<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.2"/>




  <meta name="keywords" content="Rudy" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.2" />



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?Rudy-Zhang";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  <title> Rudy's Blog </title>
</head>

<body>
<!--[if lte IE 8]> <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'> <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode"><img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari." style='margin-left:auto;margin-right:auto;display: block;'/></a></div> <![endif]-->
  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">Rudy's Blog</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>


  <ul id="menu" class="menu">
     
    
      
      <li class="menu-item menu-item-home">
        <a href="/">
          <i class="menu-item-icon icon-home"></i> <br />
          首页
        </a>
      </li>
    
      
      <li class="menu-item menu-item-categories">
        <a href="/categories">
          <i class="menu-item-icon icon-categories"></i> <br />
          分类
        </a>
      </li>
    
      
      <li class="menu-item menu-item-archives">
        <a href="/archives">
          <i class="menu-item-icon icon-archives"></i> <br />
          归档
        </a>
      </li>
    
      
      <li class="menu-item menu-item-tags">
        <a href="/tags">
          <i class="menu-item-icon icon-tags"></i> <br />
          标签
        </a>
      </li>
    
  </ul>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <div id="posts" class="posts-expand">
    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/03/20/ASP.NET MVC之Entity Framewrok/">
                ASP.NET MVC之Entity Framewrok
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-03-20
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/NET/">.NET</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/03/20/ASP.NET MVC之Entity Framewrok/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/03/20/ASP.NET MVC之Entity Framewrok/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="解释">解释</h2><p>Entity Framework 是微软以 ADO.NET 为基础所发展出来的对象关系对应 (O/R Mapping) 解决方案。</p>
<blockquote>
<p>对象关系映射（Object Relational Mapping，简称ORM）是一种为了解决面向对象与关系数据库存在的互不匹配的现象的技术。</p>
</blockquote>
<h2 id="三种方式">三种方式</h2><ul>
<li>Database-first（数据库先行）：从一个数据库开始，然后实体框架生成相应代码。</li>
<li>Model-first（模型先行）：先从一个可视化模型开始，然后实体框架生成数据库和代码。</li>
<li>Code-first（代码先行）：先从代码开始，然后实体框架生成数据库</li>
</ul>
<p>CodeFirst 用中文说是代码优先，此技术可以让我们先写代码，然后由Entity Framework根据我们的代码建立数据库。</p>
<p>CodeFirst和ModelFirst的数据库连接方式不一样，但都可以现在VS中测试连接</p>
<h2 id="why_codefirst？">why codefirst？</h2><p>代码优先的开发支持更加优美的开发流程，它允许你：</p>
<blockquote>
<ul>
<li>在不使用设计器或者定义一个 XML 映射文件的情况下进行开发。</li>
<li>允许编写简单的模型对象POCO (plain old classes)，而不需要基类。</li>
<li>通过”约定优于配置”，使得数据库持久层不需要任何的配置</li>
<li>也可以覆盖”约定优于配置”，通过流畅的 API 来完全定制持层的映射。</li>
</ul>
</blockquote>
<p>Code First是基于Entity Framework的新的开发模式，原先只有Database First和Model First两种。Code First顾名思义，就是先用C#/VB.NET的类定义好你的领域模型，然后用这些类映射到现有的数据库或者产生新的数据库结构。<strong>写好代码就行，数据库几乎不需要操作</strong>。</p>
<h2 id="使用codefirst建立数据库">使用codefirst建立数据库</h2><h3 id="建立实体类">建立实体类</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public class Student&#10;&#123;&#10;    public int StudentID &#123; get; set; &#125;&#10;    public string LastName &#123; get; set; &#125;&#10;    public string FirstNidName &#123; get; set; &#125;&#10;    public DateTime EnrollmentDate &#123; get; set; &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="DAL数据库连接层，创建实体集">DAL数据库连接层，创建实体集</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public class SchoolContext : DbContext&#10;&#123;&#10;    public DbSet &#60;Student&#62; Students &#123; get; set ; &#125;&#10;    public DbSet &#60;Enrollment&#62; Enrollments &#123; get; set ; &#125;&#10;    public DbSet &#60;Course&#62; Courses &#123; get; set ; &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>继承自System.Data.Entity下的DbContext，它将我们的数据模型映射到数据库中，将代码中的数据持久化。<br><strong>这里相当于做了代码和数据库的表映射。</strong></p>
<h3 id="向web-config中添加数据库连接">向web.config中添加数据库连接</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;add name=&#34; SchoolContext&#34; connectionString=&#34; Data Source=(LocalDb)\v11.0;Initial Catalog=ContosoUniversity;Integrated Security=SSPI;AttachDBFilename=|DataDirectory|\ContosoUniversity.mdf&#34; providerName=&#34; System.Data.SqlClient&#34; /&#62;</span><br></pre></td></tr></table></figure>
<h3 id="总结">总结</h3><p>当系统开始运行，会自动检查SchoolContext 对应的数据库是否建立，如果没有建立就通过已经做好的实体类和表映射关系在数据库中映射出需要的数据库表。</p>
<h2 id="基于标注的前后端验证">基于标注的前后端验证</h2><p>在建立网站的时候，都需要进行数据验证。前后端都要验证，前端js，后台使用后台的代码。实际的项目中一般前后端程序员约定好，然后分别写代码进行验证，很麻烦。ASP MVC为我们建立了一套非常简单的方法，只需要为属性添加标注，即可在前后端使用同一套验证逻辑。</p>
<h3 id="添加标注">添加标注</h3><p>在已经建好的实体类中，可以为属性添加Data Annotations（标注）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public class Movie &#123;&#10;    public int ID &#123; get; set; &#125;&#10;&#10;    [Required]&#10;    public string Title &#123; get; set; &#125;&#10;&#10;    [DataType(DataType.Date)]&#10;    public DateTime ReleaseDate &#123; get; set; &#125;&#10;&#10;    [Required]&#10;    public string Genre &#123; get; set; &#125;&#10;&#10;    [Range(1, 100)]&#10;    [DataType(DataType.Currency)]&#10;    public decimal Price &#123; get; set; &#125;&#10;&#10;    [StringLength(5)]&#10;    public string Rating &#123; get; set; &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="后端验证">后端验证</h3><p>使用<code>ModelState.IsValid</code> 即可实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[HttpPost]&#10;public ActionResult Index(Party party)&#10;&#123;&#10;    if(ModelState.IsValid)&#10;    &#123;&#10;        // TO DO: save the party to database&#10;        return View(&#34;Thanks&#34;);&#10;    &#125;&#10;    return View();&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="前端验证">前端验证</h3><p>打开配置文件<code>web.config</code>，配置前端验证开启</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;appSettings&#62;&#10;    &#60;add key=&#34;ClientValidationEnabled&#34; value=&#34;true&#34; /&#62;&#10;    &#60;add key=&#34;UnobtrusiveJavaScriptEnabled&#34; value=&#34;true&#34;/&#62;&#10;&#60;/appSettings&#62;</span><br></pre></td></tr></table></figure>
<p>包含JQuery验证库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;script src=&#34;@Url.Content(&#34;~/Scripts/jquery-1.5.1.min.js&#34;)&#34; type=&#34;text/javascript&#34;&#62;&#60;/script&#62;&#10;&#60;script src=&#34;@Url.Content(&#34;~/Scripts/jquery.validate.min.js&#34;)&#34; type=&#34;text/javascript&#34;&#62;&#60;/script&#62;&#10;&#60;script src=&#34;@Url.Content(&#34;~/Scripts/jquery.validate.unobtrusive.min.js&#34;)&#34; type=&#34;text/javascript&#34;&#62;&#60;/script&#62;</span><br></pre></td></tr></table></figure>
<p>在前端输出验证信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@Html.ValidationMessageFor()</span><br></pre></td></tr></table></figure>
<p>ASP MVC为我们提供了可以满足大部分需求的验证逻辑。但是如果想定制验证逻辑，也是可以的。参考<a href="http://prideparrot.com/blog/archive/2012/4/model_validation_in_asp_net_mvc" target="_blank" rel="external">自定义验证</a></p>
<h2 id="codefirst更新数据库">codefirst更新数据库</h2><h3 id="启用迁移">启用迁移</h3><p>打开VS，工具&gt;库程序包管理器&gt;程序包管理器控制台。使用命令<br><code>Enable-Migrations</code></p>
<h3 id="生成和运行迁移">生成和运行迁移</h3><ul>
<li><code>Add-Migration</code>      对比当前数据库和模型的差异，生成相应的代码，使数据库和模型匹配的。</li>
<li><code>Update-Database</code>  将任何挂起的迁移到数据库。</li>
</ul>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/ASP-MVC/"> #ASP MVC </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/03/17/电脑鼠的回忆/">
                电脑鼠的回忆
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-03-17
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/杂七杂八/">杂七杂八</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/03/17/电脑鼠的回忆/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/03/17/电脑鼠的回忆/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="前言">前言</h2><p>电脑鼠项目是本科的时候参加的项目了，如今拿出来回一下，复习一下原来学习的C和相关的算法，看到当年青涩的我们，也是别有一番滋味。</p>
<h2 id="IEEE电脑鼠介绍">IEEE电脑鼠介绍</h2><p>IEEE国际电脑鼠走迷宫邀请赛，比赛要求电脑鼠自动走索迷宫并完成冲刺。首先电脑鼠在16x16的未知迷宫中探索前进的路线，到达终点之后返回起点，这一过程称为 <strong>试跑</strong>。然后以最快速度最好路线冲刺到终点，这一过程称为 <strong>冲刺</strong> 。最终成绩=试跑时间*（1/30）+冲刺时间。当然过程中碰到迷宫墙壁是有罚时的。迷宫长的就是这个样子的，这是我们参加比赛的时候现场的赛道：</p>
<p><img src="http://ww2.sinaimg.cn/mw690/4c2edcb7jw1eq8zwm7fvsj20t20ky400.jpg" alt="enter image description here"></p>
<p>具体关于电脑鼠的规则可以参考这里：<a href="http://www.csuchico.edu/ieee/micromouse.html" target="_blank" rel="external">IEEE电脑鼠介绍</a></p>
<h2 id="设计">设计</h2><h3 id="硬件部分">硬件部分</h3><p>硬件我不是很精通，好在我们有硬件大牛，邈哥，纯geek，只要是带电的，没有不懂的，他在硬件上的知识储备真是让人咋舌，为每一个硬件，每一个指标都进行追求极限的设计。</p>
<p>硬件指标：</p>
<blockquote>
<ul>
<li>中心控制器使用32位处理器STM32F103；</li>
<li>传感器共有六对红外发射管、接收管，用于探测墙壁距离并提供迷宫墙壁信息。</li>
<li>陀螺仪采用量程±2000°/s的数字式陀螺仪L3G4200，用来校正电脑鼠转弯时的角度误差。</li>
<li>电机驱动电路使用两组H型全桥电路配合PWM信号控制，可以使电机正转与反转。</li>
<li>电机选用微型直流空心杯减速电机，并配合512线编码器可获得电机转速。</li>
<li>预留无线串口可外接蓝牙模块与PC机实现数据传输，配合按键与可编程LED实现人机交互。</li>
</ul>
</blockquote>
<p>硬件架构图：</p>
<p><img src="http://ww2.sinaimg.cn/mw690/4c2edcb7jw1eq8zwmgi89j20h20czdgj.jpg" alt="Alt text"></p>
<p>最后做成了这样一辆小跑车。</p>
<p><img src="http://ww1.sinaimg.cn/mw690/4c2edcb7jw1eq8zwmt483j20wb0jigo5.jpg" alt="Alt text"></p>
<h3 id="软件部分">软件部分</h3><p>这个时候就要靠我们学软件的人了，由于采用的是嵌入式设备，必须把写好的C程序烧到中心控制器。中心控制器相当于整个设备的大脑，所有行走的策略，控制硬件启动，接收硬件数据，发出指令都存储在STM32控制芯片当中。</p>
<p>下面是整个软件部分的架构图：</p>
<p><img src="http://ww1.sinaimg.cn/mw690/4c2edcb7jw1eq8zwn1gcsj20gy0l4jtj.jpg" alt="Alt text"></p>
<p>想要达到一个良好的表现，硬件是至关重要的，就像是经济基础决定上层建筑。同时有了经济基础也需要更好的策略来指挥硬件行动。电脑鼠的策略分成两部分：</p>
<blockquote>
<ul>
<li>探索时候的策略</li>
<li>冲刺时候的策略</li>
</ul>
</blockquote>
<h4 id="探索的策略">探索的策略</h4><p>由于迷宫是未知的，需要电脑鼠不断探索迷宫中的格子，每次碰到岔路的时候都要决定下一次要往哪里探索，所以这一部分是最tricky的，好的算法不一定有好的结果，但是不好的算法很可能有不好的结果。<br>常见的策略</p>
<blockquote>
<ul>
<li>右手法则： 以右边为优先的前进方向，然后是直线方向、左边方向。 </li>
<li>左手法则： 以左边为优先的前进方向，然后是直线方向、右边方向。 </li>
<li>中左法则： 以直线为优先的前进方向，然后是左边方向、右边方向。 </li>
<li>乱数法则： 取随机值作为前进方向。 </li>
<li>向心法则： 由于终点设在迷宫的中心，遇有交叉时，以指向迷宫中心的方向为优先的前进方向。 </li>
</ul>
</blockquote>
<p>还有一种相对这些算法更加优秀的算法，也是我们采用的算法，叫做<strong>洪水填充算法</strong>：</p>
<blockquote>
<p>洪水填充法，也称为贝尔曼的算法(Bellman’s algorithm)，与上述的种演算法相比是更适合的方法。该演算法使用距离和墙壁的知识去寻找到达迷宫中心的较短路径。在这个该演算法中，每一个格子存在一个代表距离的物理量，此物理量代表该格子与迷宫中心可能的最短的曼哈顿距离(为方便本文就直接称此物理量为距离)。</p>
<p>洪水填充法被称为“广度优先”演算法，因为如果迷宫被表示成一个生成树，演算法会先搜查同一层的格子，接着才搜寻下一层的格子。洪水填充算法的主要优点是，它总能找到到达迷宫中心的最短路径。但值得注意的是，此方法实际走的路径被非最短路径。</p>
</blockquote>
<p>使用到的关键函数：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initDistance</span><span class="params">()</span></span>;<span class="comment">//当朝向迷宫中心时，曼哈顿距离的初始化</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initDistance2</span><span class="params">()</span></span>;<span class="comment">//当朝向起点时，曼哈顿距离的初始化</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initTempMap</span><span class="params">()</span></span>;<span class="comment">//初始化临时地图</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">char</span> <span class="title">atGoal</span><span class="params">(<span class="keyword">struct</span> Point robot)</span></span>;<span class="comment">//返回是否到达中心</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">char</span> <span class="title">atStart</span><span class="params">(<span class="keyword">struct</span> Point p)</span></span>;<span class="comment">//返回是否到达终点</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">l_Maze_Set</span><span class="params">(<span class="keyword">const</span> <span class="keyword">struct</span> Maze * m)</span></span>;<span class="comment">//设置迷宫句柄</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InitializeMaze</span><span class="params">()</span></span>;<span class="comment">//初始化迷宫数据</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">char</span> <span class="title">l_HandleRequest</span><span class="params">(<span class="keyword">const</span> <span class="keyword">struct</span> Robot robot, <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> NW,</span><br><span class="line">                            <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> EW, <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> SW, <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> WW)</span></span>;</span><br><span class="line"><span class="comment">// 根据当前的位置和墙壁信息，返回应该走的方向</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">char</span> <span class="title">canGetByDir</span><span class="params">(<span class="keyword">struct</span> Point p,<span class="keyword">char</span> dir)</span></span>;<span class="comment">//返回是否从某点走向某个方向</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">refreshDistance</span><span class="params">(<span class="keyword">struct</span> Point p)</span></span>;<span class="comment">//更新某点的曼哈顿距离</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">freshTempMap</span><span class="params">(<span class="keyword">struct</span> Robot robot)</span></span>;<span class="comment">//更新临时地图的信息</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getDisByDir</span><span class="params">(<span class="keyword">struct</span> Point p,<span class="keyword">int</span> dir)</span></span>;<span class="comment">//返回某点某个方向上的距离</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">roundMinDistance</span><span class="params">(<span class="keyword">struct</span> Point p)</span></span>;<span class="comment">//计算某点周围可以到达的点的最小距离</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">char</span> <span class="title">roundMinDir</span><span class="params">(<span class="keyword">struct</span> Robot r)</span></span>;<span class="comment">//返回周围最小距离点相对于当前点的方向</span></span><br></pre></td></tr></table></figure>
<p>l_HandleRequest函数的内容：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">char</span> <span class="title">l_HandleRequest</span><span class="params">(<span class="keyword">const</span> <span class="keyword">struct</span> Robot robot, <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> NW,</span><br><span class="line">                            <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> EW, <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> SW, <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> WW)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="comment">//!根据传入的信息更新tempMap中的墙壁</span></span><br><span class="line">    maze-&gt;walkHistory[robot.position.y][robot.position.x]=<span class="number">1</span>;</span><br><span class="line">    maze-&gt;tempMap[robot.position.y][robot.position.x]|=NW;</span><br><span class="line">    maze-&gt;tempMap[robot.position.y][robot.position.x]|=EW;</span><br><span class="line">    maze-&gt;tempMap[robot.position.y][robot.position.x]|=SW;</span><br><span class="line">    maze-&gt;tempMap[robot.position.y][robot.position.x]|=WW;</span><br><span class="line">    </span><br><span class="line">    maze-&gt;tempMap[robot.position.y][robot.position.x]|=NORTH_WALL_COVERED;</span><br><span class="line">    maze-&gt;tempMap[robot.position.y][robot.position.x]|=EAST_WALL_COVERED;</span><br><span class="line">    maze-&gt;tempMap[robot.position.y][robot.position.x]|=SOUTH_WALL_COVERED;</span><br><span class="line">    maze-&gt;tempMap[robot.position.y][robot.position.x]|=WEST_WALL_COVERED;</span><br><span class="line">    freshTempMap(robot);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//!更新距离信息</span></span><br><span class="line">    refreshDistance(robot.position);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//!返回应该走的方向</span></span><br><span class="line">    <span class="keyword">return</span> roundMinDir(robot);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="冲刺的策略">冲刺的策略</h4><p>冲刺的时候，中心控制器中已经存储了探索过程的数据。需要做的是根据车子的各方面的性能，如启动速度，减速的速度，转弯的速度，等所有的因素整合起来作为变量，再加上已知的迷宫数据，计算出最好的路径，然后出发就可以了。由于迷宫已知，所以算法也是确定的，关键在于考虑到足够多的因素，输入的变量越多，越真实，计算出的结果越可靠，同时计算量也就越大，在实际操作的时候要达到一个良好的平衡。</p>
<p>我们使用图论的思想，在搜索最短路径的过程中加入直线和拐弯的权重，使用广度优先的搜索算法找出最短路径，从而接近真实的模拟老鼠的冲刺时间。使用堆进行优化，经测试，算法的复杂度为NlogN。</p>
<p>冲刺用到的关键函数；</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Attack_Maze_Set</span><span class="params">(<span class="keyword">const</span> <span class="keyword">struct</span> Maze * m)</span></span>;<span class="comment">//设置迷宫句柄</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Attack_Main</span><span class="params">()</span></span>;<span class="comment">//冲刺主函数</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Attack_Initialize</span><span class="params">()</span></span>;<span class="comment">//初始化冲刺过程</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Attack_Attack_Map_Print</span><span class="params">()</span></span>;<span class="comment">//调试，输出冲刺地图</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Attack_Heap_Print</span><span class="params">()</span></span>;<span class="comment">//调试,输出堆的内容</span></span><br></pre></td></tr></table></figure>
<p>冲刺算法的主函数：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Attack_Main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    Attack_Map[SIZE-<span class="number">1</span>][<span class="number">0</span>].pre=NULL;</span><br><span class="line">    Attack_Map[SIZE-<span class="number">1</span>][<span class="number">0</span>].cost=<span class="number">0</span>;</span><br><span class="line">    Attack_Map[SIZE-<span class="number">1</span>][<span class="number">0</span>].Have_In_Queue=TRUE;</span><br><span class="line">    InsertToHeap(&amp;Attack_Map[SIZE-<span class="number">1</span>][<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(heapSize&gt;<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">struct</span> AttackNode *node;</span><br><span class="line">        node=heap[<span class="number">1</span>];</span><br><span class="line">        attackhistory[node-&gt;p.y][node-&gt;p.x]=<span class="number">1</span>;</span><br><span class="line">        DeleteMin();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(atGoal(node-&gt;p))</span><br><span class="line">        &#123;</span><br><span class="line">            getch();</span><br><span class="line">            <span class="comment">//!@note需要写的函数，向策略队列里填充结点</span></span><br><span class="line">            findAttackQueue(node);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,node-&gt;cost);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(canGetByDir(node-&gt;p,NORTH)&amp;&amp;(Attack_Map[node-&gt;p.y-<span class="number">1</span>][node-&gt;p.x].Have_In_Queue==FALSE)</span><br><span class="line">        &amp;&amp;(attack_maze-&gt;walkHistory[node-&gt;p.y-<span class="number">1</span>][node-&gt;p.x]==<span class="number">1</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//!如果北方节点是前驱结点，则什么都不做</span></span><br><span class="line">            <span class="keyword">if</span>((node-&gt;pre!=NULL)&amp;&amp;(node-&gt;pre-&gt;p.y==(node-&gt;p.y-<span class="number">1</span>))&amp;&amp;node-&gt;pre-&gt;p.x==node-&gt;p.x)&#123;&#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                </span><br><span class="line">                Attack_Map[node-&gt;p.y-<span class="number">1</span>][node-&gt;p.x].pre=node;</span><br><span class="line">                Attack_Map[node-&gt;p.y-<span class="number">1</span>][node-&gt;p.x].bend=getBend(&amp;Attack_Map[node-&gt;p.y-<span class="number">1</span>][node-&gt;p.x]);</span><br><span class="line">                Attack_Map[node-&gt;p.y-<span class="number">1</span>][node-&gt;p.x].cost=getCost(&amp;Attack_Map[node-&gt;p.y-<span class="number">1</span>][node-&gt;p.x]);</span><br><span class="line">                </span><br><span class="line">                Attack_Map[node-&gt;p.y-<span class="number">1</span>][node-&gt;p.x].Have_In_Queue=TRUE;</span><br><span class="line">                </span><br><span class="line">                InsertToHeap(&amp;Attack_Map[node-&gt;p.y-<span class="number">1</span>][node-&gt;p.x]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(canGetByDir(node-&gt;p,EAST)&amp;&amp;(Attack_Map[node-&gt;p.y][node-&gt;p.x+<span class="number">1</span>].Have_In_Queue==FALSE)</span><br><span class="line">        &amp;&amp;(attack_maze-&gt;walkHistory[node-&gt;p.y][node-&gt;p.x+<span class="number">1</span>]==<span class="number">1</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//!如果东方节点是前驱结点，则什么都不做</span></span><br><span class="line">            <span class="keyword">if</span>((node-&gt;pre!=NULL)&amp;&amp;(node-&gt;pre-&gt;p.y==node-&gt;p.y)&amp;&amp;node-&gt;pre-&gt;p.x==(node-&gt;p.x+<span class="number">1</span>))&#123;&#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                Attack_Map[node-&gt;p.y][node-&gt;p.x+<span class="number">1</span>].pre=node;</span><br><span class="line">                Attack_Map[node-&gt;p.y][node-&gt;p.x+<span class="number">1</span>].bend=getBend(&amp;Attack_Map[node-&gt;p.y][node-&gt;p.x+<span class="number">1</span>]);</span><br><span class="line">                Attack_Map[node-&gt;p.y][node-&gt;p.x+<span class="number">1</span>].cost=getCost(&amp;Attack_Map[node-&gt;p.y][node-&gt;p.x+<span class="number">1</span>]);</span><br><span class="line">                </span><br><span class="line">                Attack_Map[node-&gt;p.y][node-&gt;p.x+<span class="number">1</span>].Have_In_Queue=TRUE;</span><br><span class="line">                InsertToHeap(&amp;Attack_Map[node-&gt;p.y][node-&gt;p.x+<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(canGetByDir(node-&gt;p,SOUTH)&amp;&amp;(Attack_Map[node-&gt;p.y+<span class="number">1</span>][node-&gt;p.x].Have_In_Queue==FALSE)</span><br><span class="line">        &amp;&amp;(attack_maze-&gt;walkHistory[node-&gt;p.y+<span class="number">1</span>][node-&gt;p.x]==<span class="number">1</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//!如果南方节点是前驱结点，则什么都不做</span></span><br><span class="line">            <span class="keyword">if</span>((node-&gt;pre!=NULL)&amp;&amp;(node-&gt;pre-&gt;p.y==(node-&gt;p.y+<span class="number">1</span>))&amp;&amp;node-&gt;pre-&gt;p.x==(node-&gt;p.x))&#123;&#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                Attack_Map[node-&gt;p.y+<span class="number">1</span>][node-&gt;p.x].pre=node;</span><br><span class="line">                Attack_Map[node-&gt;p.y+<span class="number">1</span>][node-&gt;p.x].bend=getBend(&amp;Attack_Map[node-&gt;p.y+<span class="number">1</span>][node-&gt;p.x]);</span><br><span class="line">                Attack_Map[node-&gt;p.y+<span class="number">1</span>][node-&gt;p.x].cost=getCost(&amp;Attack_Map[node-&gt;p.y+<span class="number">1</span>][node-&gt;p.x]);</span><br><span class="line">                </span><br><span class="line">                Attack_Map[node-&gt;p.y+<span class="number">1</span>][node-&gt;p.x].Have_In_Queue=TRUE;</span><br><span class="line">                InsertToHeap(&amp;Attack_Map[node-&gt;p.y+<span class="number">1</span>][node-&gt;p.x]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(canGetByDir(node-&gt;p,WEST)&amp;&amp;(Attack_Map[node-&gt;p.y][node-&gt;p.x-<span class="number">1</span>].Have_In_Queue==FALSE)</span><br><span class="line">        &amp;&amp;(attack_maze-&gt;walkHistory[node-&gt;p.y][node-&gt;p.x-<span class="number">1</span>]==<span class="number">1</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//!如果西方节点是前驱结点，则什么都不做</span></span><br><span class="line">            <span class="keyword">if</span>((node-&gt;pre!=NULL)&amp;&amp;(node-&gt;pre-&gt;p.y==(node-&gt;p.y))&amp;&amp;node-&gt;pre-&gt;p.x==(node-&gt;p.x-<span class="number">1</span>))&#123;&#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                Attack_Map[node-&gt;p.y][node-&gt;p.x-<span class="number">1</span>].pre=node;</span><br><span class="line">                Attack_Map[node-&gt;p.y][node-&gt;p.x-<span class="number">1</span>].bend=getBend(&amp;Attack_Map[node-&gt;p.y][node-&gt;p.x-<span class="number">1</span>]);</span><br><span class="line">                Attack_Map[node-&gt;p.y][node-&gt;p.x-<span class="number">1</span>].cost=getCost(&amp;Attack_Map[node-&gt;p.y][node-&gt;p.x-<span class="number">1</span>]);</span><br><span class="line">                </span><br><span class="line">                Attack_Map[node-&gt;p.y][node-&gt;p.x-<span class="number">1</span>].Have_In_Queue=TRUE;</span><br><span class="line">                InsertToHeap(&amp;Attack_Map[node-&gt;p.y][node-&gt;p.x-<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试迷宫的内容：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> <span class="built_in">map</span>[<span class="number">16</span>][<span class="number">16</span>] =&#123;</span><br><span class="line">                &#123;<span class="number">11</span>,<span class="number">11</span>,<span class="number">11</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">3</span>&#125;,</span><br><span class="line">                &#123;<span class="number">10</span>,<span class="number">10</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">2</span>&#125;,</span><br><span class="line">                &#123;<span class="number">12</span>, <span class="number">0</span>, <span class="number">2</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">13</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">3</span>,<span class="number">10</span>&#125;,</span><br><span class="line">                &#123; <span class="number">9</span>, <span class="number">6</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">2</span>,<span class="number">10</span>&#125;,</span><br><span class="line">                &#123; <span class="number">8</span>, <span class="number">5</span>, <span class="number">6</span>,<span class="number">10</span>,<span class="number">10</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>,<span class="number">12</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">3</span>,<span class="number">10</span>,<span class="number">10</span>&#125;,</span><br><span class="line">                &#123; <span class="number">8</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>,<span class="number">10</span>,<span class="number">10</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">7</span>,<span class="number">14</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>,<span class="number">10</span>,<span class="number">10</span>&#125;,</span><br><span class="line">                &#123;<span class="number">10</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">3</span>,<span class="number">12</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">3</span>,<span class="number">10</span>,<span class="number">10</span>&#125;,</span><br><span class="line">                &#123;<span class="number">10</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>,<span class="number">14</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>,<span class="number">14</span>,<span class="number">14</span>&#125;,</span><br><span class="line">                &#123;<span class="number">10</span>,<span class="number">10</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">3</span>,<span class="number">11</span>,<span class="number">12</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>&#125;,</span><br><span class="line">                &#123;<span class="number">10</span>,<span class="number">12</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">3</span>,<span class="number">10</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>,<span class="number">12</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">2</span>,<span class="number">10</span>&#125;,</span><br><span class="line">                &#123; <span class="number">8</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">3</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">12</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>,<span class="number">12</span>, <span class="number">5</span>, <span class="number">2</span>,<span class="number">10</span>&#125;,</span><br><span class="line">                &#123; <span class="number">8</span>, <span class="number">5</span>, <span class="number">3</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">2</span>&#125;,</span><br><span class="line">                &#123;<span class="number">12</span>, <span class="number">3</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">12</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">3</span>,<span class="number">10</span>&#125;,</span><br><span class="line">                &#123; <span class="number">9</span>, <span class="number">0</span>, <span class="number">2</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">12</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>,<span class="number">14</span>&#125;,</span><br><span class="line">                &#123;<span class="number">10</span>,<span class="number">10</span>, <span class="number">8</span>, <span class="number">2</span>,<span class="number">12</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">3</span>&#125;,</span><br><span class="line">                &#123;<span class="number">14</span>,<span class="number">14</span>,<span class="number">14</span>,<span class="number">12</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>&#125;</span><br><span class="line">                &#125;;</span><br></pre></td></tr></table></figure>
<p>策略层主函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int main()&#10;&#123;&#10;    unsigned char NW, EW, SW, WW;&#10;&#10;    //!&#20256;&#20837;&#36855;&#23467;&#21477;&#26564;&#65292;&#21021;&#22987;&#21270;&#22320;&#22270;&#21644;&#36317;&#31163;&#10;    l_Maze_Set(&#38;myMaze);&#10;    initTempMap();&#10;    initDistance();&#10;    &#10;    //!&#21021;&#22987;&#21270;&#30005;&#33041;&#40736;&#20301;&#32622;&#26041;&#21521;&#10;    robot.position.x=0;&#10;    robot.position.y=SIZE-1;&#10;    robot.direction=NORTH;&#10;&#10;    while(!atGoal(robot.position))&#123;&#10;        //!&#36825;&#37324;&#20026;&#35835;&#21462;&#22681;&#22721;&#20449;&#24687;&#30340;&#20195;&#30721;&#65292;&#29992;&#24050;&#30693;&#36855;&#23467;&#20195;&#26367;&#10;        NW = map[robot.position.y][robot.position.x] &#38; NORTH;&#10;        EW = map[robot.position.y][robot.position.x] &#38; EAST;&#10;        SW = map[robot.position.y][robot.position.x] &#38; SOUTH;&#10;        WW = map[robot.position.y][robot.position.x] &#38; WEST;&#10;&#10;        //!&#33719;&#21462;&#19979;&#19968;&#20010;&#26041;&#21521;&#10;        nextDirection = l_HandleRequest(robot, NW, EW, SW, WW);&#10;        walk();  &#10;    &#125;&#10;&#10;    toCenter=FALSE;&#10;    initDistance2();&#10;    while(!atStart(robot.position))&#123;&#10;        //!&#36825;&#37324;&#20026;&#35835;&#21462;&#22681;&#22721;&#20449;&#24687;&#30340;&#20195;&#30721;&#65292;&#29992;&#24050;&#30693;&#36855;&#23467;&#20195;&#26367;&#10;        NW = map[robot.position.y][robot.position.x] &#38; NORTH;&#10;        EW = map[robot.position.y][robot.position.x] &#38; EAST;&#10;        SW = map[robot.position.y][robot.position.x] &#38; SOUTH;&#10;        WW = map[robot.position.y][robot.position.x] &#38; WEST;&#10;        &#10;        nextDirection = l_HandleRequest(robot, NW, EW, SW, WW);&#10;        walk();&#10;    &#125;&#10;    &#10;    Attack_Maze_Set(&#38;myMaze);&#10;    Attack_Initialize();&#10;    Attack_Main();&#10;&#10;    return 0;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>以上完成了策略层的所有内容。</p>
<h2 id="后记">后记</h2><p>调试时间短，太专注于原创，没有经验。种种原因导致最终没有取得理想的成绩。但是整个过程让我学到了很多东西。压力下的工作，找到在团队里的角色，还有那些调了好多遍的算法，思想很简单，真的写出来一遍也能学到很多东西。</p>
<p>这是我们的一点视频记录，很幼稚，哈哈。</p>
<iframe height="498" width="510" src="http://player.youku.com/embed/XOTEzNjg2NTE2" frameborder="0" allowfullscreen></iframe>


<p>最后，当然还是一起工作过的这帮朋友，我们来自五湖四海，各个专业，各个年级，如今也各奔东西。只是在那时相遇过，一起努力过，也是一种缘分吧。</p>
<p>我们的合影,拍摄于天津工业大学，2012.4.22<br><img src="http://ww3.sinaimg.cn/mw690/4c2edcb7jw1eq8zwnp9wij20x20m8ae9.jpg" alt="Alt text"></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2014/10/28/CodeIgniter笔记之数据库访问/">
                CodeIgniter笔记之数据库访问
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2014-10-27
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/web开发/">web开发</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/10/28/CodeIgniter笔记之数据库访问/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/10/28/CodeIgniter笔记之数据库访问/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h4 id="修改配置文件">修改配置文件</h4><p><code>application/config/database.php</code></p>
<h4 id="装载">装载</h4><p>将数据库访问对象，装载到超级对象属性中 $this-&gt;load-&gt;database();</p>
<h4 id="查询">查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$res-&#62;$this-&#62;db-&#62;query($sql) //&#36820;&#22238;&#26597;&#35810;&#32467;&#26524;&#23545;&#35937;&#23545;&#35937;&#10;$res-&#62;result() ;// &#36820;&#22238;&#25968;&#32452;&#65292;&#25968;&#32452;&#20013;&#26159;&#19968;&#20010;&#20010;&#23545;&#35937;&#10;$res-&#62;result_array(); // &#36820;&#22238;&#20108;&#32500;&#25968;&#32452;&#65292;&#37324;&#38754;&#26159;&#20851;&#32852;&#25968;&#32452;&#10;$res-&#62;row(); // &#36820;&#22238;&#31532;&#19968;&#26465;&#25968;&#25454;</span><br></pre></td></tr></table></figure>
<h4 id="参数绑定">参数绑定</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sql=&#34;select * from blog_user where name=?&#34;;&#10;$this-&#62;db-&#62;query($sql,$name); // &#22914;&#26524;&#26377;&#22810;&#20010;&#21442;&#25968;&#65288;&#38382;&#21495;&#65289;&#65292;&#38656;&#35201;&#20351;&#29992;&#32034;&#24341;&#25968;&#32452;</span><br></pre></td></tr></table></figure>
<h4 id="db的自动加载">db的自动加载</h4><p>配置自动加载db <code>application/config/autoload.php</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$autoload[&#39;libaraied&#39;] = array(&#39;database&#39;); // &#23601;&#19981;&#38656;&#35201;$this-&#62;load-&#62;database();</span><br></pre></td></tr></table></figure></p>
<h4 id="CI的AR模型_Active_Record">CI的AR模型 Active Record</h4><h5 id="配置">配置</h5><p><code>applicaion/config/database.php</code> 设置<code>$active_record = TRUE</code></p>
<h5 id="操作">操作</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$res=$this-&#62;db-&#62;get(&#39;&#34920;&#21517;&#39;); // &#36820;&#22238;&#32467;&#26524;&#23545;&#35937;&#10;$res-&#62;result();&#10;$bool = $this-&#62;db-&#62;insert(&#39;&#34920;&#21517;&#39;,&#20851;&#32852;&#25968;&#32452;);&#10;$bool=$this-&#62;db-&#62;update(&#39;&#34920;&#21517;&#39;,&#20851;&#32852;&#25968;&#32452;,&#26465;&#20214;);&#10;$bool=$this-&#62;db-&#62;delete(&#39;&#34920;&#21517;&#39;,&#26465;&#20214;)</span><br></pre></td></tr></table></figure>
<h5 id="连贯操作">连贯操作</h5><p>模拟sql语句</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$res=$this-&#62;db-&#62;select(&#39;id,name&#39;)-&#62;from(&#39;user&#39;)-&#62;where(&#39;id&#62;=3&#39;);</span><br></pre></td></tr></table></figure>
<p>使用where</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$res=$this-&#62;db-&#62;where(&#39;name&#39;,&#39;mary&#39;)-&#62;get(&#39;user&#39;);</span><br></pre></td></tr></table></figure>
<h5 id="复杂的查询使用参数绑定">复杂的查询使用参数绑定</h5><p><code>$this-&gt;db-&gt;query($sql,$data)</code></p>
<h4 id="数据库查询结果">数据库查询结果</h4><h5 id="result()">result()</h5><p>方法执行成功返回一个对象数组，失败则返回一个空数组。<br>例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$query = $this-&#62;db-&#62;query(&#34;&#35201;&#25191;&#34892;&#30340; SQL&#34;);&#10;&#10;foreach ($query-&#62;result() as $row)&#10;&#123;&#10;   echo $row-&#62;title;&#10;   echo $row-&#62;name;&#10;   echo $row-&#62;body;&#10;&#125;</span><br></pre></td></tr></table></figure>
<h5 id="判断结果集的条目数">判断结果集的条目数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if ($query-&#62;num_rows() &#62; 0)</span><br></pre></td></tr></table></figure>
<h5 id="result_array()">result_array()</h5><p>该方法执行成功时将记录集作为关联数组返回。失败时返回空数组。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$query = $this-&#62;db-&#62;query(&#34;&#35201;&#25191;&#34892;&#30340; SQL&#34;);&#10;&#10;foreach ($query-&#62;result_array() as $row)&#10;&#123;&#10;   echo $row[&#39;title&#39;];&#10;   echo $row[&#39;name&#39;];&#10;   echo $row[&#39;body&#39;];&#10;&#125;</span><br></pre></td></tr></table></figure>
<h5 id="row()">row()</h5><p>该函数将当前请求的第一行数据作为 object 返回。</p>
<h4 id="总结，CI中的增删改查">总结，CI中的增删改查</h4><h5 id="查">查</h5><ul>
<li>得到一个表</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$this-&#62;db-&#62;get(&#39;&#34920;&#21517;&#39;)</span><br></pre></td></tr></table></figure>
<ul>
<li>单个表条件查询</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$this-&#62;db-&#62;get_where(&#39;&#34920;&#21517;&#39;,&#39;&#20851;&#32852;&#25968;&#32452;&#26465;&#20214;&#39;)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>单表查询多个限定条件，链式查询</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$this-&#62;db-&#62;select(&#39;title&#39;)-&#62;from(&#39;mytable&#39;)-&#62;where(&#39;id&#39;, $id)-&#62;limit(10, 20);&#10;$query  = $this-&#62;db-&#62;get();</span><br></pre></td></tr></table></figure>
</li>
<li><p>多表查询</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$this -&#62;db-&#62;query($sql,$data)&#10;$sql   = &#34;SELECT * FROM some_table WHERE id = ? AND status = ? AND author = ?&#34;;&#10;$query = $this-&#62;admin-&#62;query($sql, array($id, $status, $author));</span><br></pre></td></tr></table></figure>
<h5 id="增">增</h5><p>可以向函数传递 数组 或一个 对象。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$bool = $this-&#62;db-&#62;insert(&#39;&#34920;&#21517;&#39;,&#20851;&#32852;&#25968;&#32452;);&#10;$data = array(&#10;               &#39;title&#39; =&#62; &#39;My title&#39; ,&#10;               &#39;name&#39; =&#62; &#39;My Name&#39; ,&#10;               &#39;date&#39; =&#62; &#39;My date&#39;&#10;            );&#10;$this-&#62;db-&#62;insert(&#39;mytable&#39;, $data); &#10;// Produces: INSERT INTO mytable (title, name, date) VALUES (&#39;My title&#39;, &#39;My name&#39;, &#39;My date&#39;)</span><br></pre></td></tr></table></figure>
<h5 id="改">改</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$bool=$this-&#62;db-&#62;update(&#39;&#34920;&#21517;&#39;,&#20851;&#32852;&#25968;&#32452;,&#26465;&#20214;);&#10;&#10;$data = array(&#10;               &#39;title&#39; =&#62; $title,&#10;               &#39;name&#39; =&#62; $name,&#10;               &#39;date&#39; =&#62; $date&#10;            );&#10;&#10;$this-&#62;db-&#62;where(&#39;id&#39;, $id);&#10;$this-&#62;db-&#62;update(&#39;mytable&#39;, $data);</span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$this-&#62;db-&#62;update(&#39;mytable&#39;, $data, array(&#39;id&#39; =&#62; $id));</span><br></pre></td></tr></table></figure>
<h5 id="删">删</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$bool =$this-&#62;db-&#62;delete(&#39;&#34920;&#21517;&#39;,&#26465;&#20214;)</span><br></pre></td></tr></table></figure>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/CodeIgniter/"> #CodeIgniter </a>
          
            <a href="/tags/PHP/"> #PHP </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2014/10/28/CodeIgniter笔记/">
                CodeIgniter笔记
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2014-10-27
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/web开发/">web开发</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/10/28/CodeIgniter笔记/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/10/28/CodeIgniter笔记/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h3 id="CodeIgniter">CodeIgniter</h3><blockquote>
<p>CodeIgniter 是一个简单快速的PHP MVC框架。<br>CodeIgniter 是一套给 PHP 网站开发者使用的应用程序开发框架和工具包。它提供一套丰富的标准库以及简单的接口和逻辑结构，其目的是使开发人员更快速地进行项目开发。使用 CodeIgniter可以减少代码的编写量，并将你的精力投入到项目的创造性开发上。</p>
</blockquote>
<p>简单快速，这也是选择CI的原因。</p>
<p>以下内容细节可以从CI<a href="http://codeigniter.org.cn/user_guide/index.html" target="_blank" rel="external">官方文档</a>寻找</p>
<h3 id="超级对象this">超级对象this</h3><p>当前的控制器对象，this，提供了很多属性<br>加载方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$this-&#62;load-&#62;</span><br></pre></td></tr></table></figure>
<p>装载器类的实例system/core/Loader.php<br>提供的方法：</p>
<ul>
<li>view()     装载视图</li>
<li>vars()     分配变量到视图 </li>
<li>database() 装载数据库操作</li>
<li>model()   装载模型对象</li>
<li>helper() <h3 id="var_dump">var_dump</h3></li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void var_dump ( mixed <span class="variable">$expression</span> [, mixed $... ] )</span><br></pre></td></tr></table></figure>
<p>此函数显示关于一个或多个表达式的结构信息，包括表达式的类型与值。数组将递归展开值，通过缩进显示其结构。</p>
<h3 id="$this-&gt;input_输入类">$this-&gt;input 输入类</h3><p>作用：默认帮助进行安全处理<br>CI_Input类 system/cor/Input.php<br><code>$this-&gt;input-&gt;server(&#39;DOCUMENT_ROOT&#39;)</code>相当于<code>$_POST[&#39;DOCUMENT_ROOT&#39;]</code><br><code>$this-&gt;input-&gt;post(&#39;表单提交的name&#39;)</code></p>
<h3 id="URL相关函数">URL相关函数</h3><ul>
<li>site_url<br>在form表单中提交action不能把路径写死,使用<code>site_url (controller/action)</code></li>
<li>base_url 根目录<br>请求图片时，<code>&lt;img src=&quot;&lt;?php echo base_url()?&gt;uploads/jh.jpg&quot;&gt;</code></li>
<li>自动加载URL函数，autoload.php<br>$autoload[‘helper’] = array(‘url’);</li>
</ul>
<h3 id="路由">路由</h3><p><code>config/routes.php</code><br>默认的控制器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$route[&#39;default_controller&#39;]=</span><br></pre></td></tr></table></figure>
<p>伪静态页面,不再显示<code>xxx.php</code>,在路由中写一个正则表达式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$route[&#39;show/([\d]+)\.html&#39;]=&#39;article/show/&#39;</span><br></pre></td></tr></table></figure>
<h3 id="分页">分页</h3><p>使用分页类<code>pagination</code></p>
<h4 id="加载类文件">加载类文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$this-&#62;load-&#62;library(&#39;pagnination&#39;);</span><br></pre></td></tr></table></figure>
<h4 id="配置">配置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$config[&#39;per_page&#39;]=10;//&#27599;&#39029;&#26174;&#31034;10&#26465;&#25968;&#25454;</span><br></pre></td></tr></table></figure>
<p>其他配置见<a href="http://codeigniter.org.cn/user_guide/libraries/pagination.html" target="_blank" rel="external">文档</a></p>
<h4 id="初始化">初始化</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$this-&#62;pagination-&#62;initialize($config)</span><br></pre></td></tr></table></figure>
<h4 id="创建链接">创建链接</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$this-&#62;pagination-&#62;create_links($config)</span><br></pre></td></tr></table></figure>
<h4 id="跳过多少条">跳过多少条</h4><p> sql语句 <code>select from limit+跳过的条数</code></p>
<h4 id="定制分页器">定制分页器</h4><p>$config[‘first_link’]=”首页”<br> 其他配置见<a href="http://codeigniter.org.cn/user_guide/libraries/pagination.html" target="_blank" rel="external">文档</a></p>
<h3 id="文件上传">文件上传</h3><p>表单<br><code>&lt;form enctype=&quot;multipart/form-data&quot;&gt;&lt;/form&gt;</code></p>
<h4 id="使用文件上传类">使用文件上传类</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$this-&#62;load-&#62;library(&#39;&#39;)</span><br></pre></td></tr></table></figure>
<h4 id="配置-1">配置</h4><p>见<a href="http://codeigniter.org.cn/user_guide/libraries/pagination.html" target="_blank" rel="external">文档</a></p>
<h4 id="上传">上传</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$this-&#62;upload-&#62;do_upload(&#39;pic&#39;)</span><br></pre></td></tr></table></figure>
<h4 id="返回信息">返回信息</h4><p>文件上传的一些数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$his-&#62;upload-&#62;data()</span><br></pre></td></tr></table></figure>
<h3 id="session">session</h3><p>CI中的session 默认不使用php的原生session，<strong>放在cookie中</strong>（限制大小4k），不太好使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$this-&#62;session-&#62;set_userdata(&#39;user&#39;,$user) ; //&#20351;&#29992;&#38190;&#20540;&#23545;&#26469;&#23384;&#20648;&#25968;&#25454;</span><br></pre></td></tr></table></figure>
<p><strong>因为是存储在cookie中的，所以不能在当前的函数中获取到session中的数据，需要跳转的别的页面后才可以获取的到</strong></p>
<h4 id="加密">加密</h4><p>生成随机不重复的字符串作为加密用的key，保存到config.php</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$[&#39;encryption_key&#39;]=&#34;key&#30340;&#20540;&#34;</span><br></pre></td></tr></table></figure>
<p>或者不使用CI的session，囧。。。</p>
<h3 id="表单验证">表单验证</h3><h4 id="使用表单验证类">使用表单验证类</h4><p>$this-&gt;load-&gt;library(‘form_validation’);</p>
<h4 id="验证">验证</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$this-&#62;form_validation-&#62;set_rules(&#39;&#39;,&#39;&#39;,&#39;&#39;);&#10;$bool=$this-&#62;form_validation-&#62;run();</span><br></pre></td></tr></table></figure>
<p>前台验证使用js，后台验证使用表单验证类</p>
<h4 id="输出错误">输出错误</h4><p><code>form_error(&#39;name&#39;,&#39;&lt;span&gt;&#39;,&#39;&lt;/span&gt;&#39;)</code><br><code>echo validation_error()</code>直接输出所有结果（推荐使用）</p>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/CodeIgniter/"> #CodeIgniter </a>
          
            <a href="/tags/PHP/"> #PHP </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2014/10/21/PHP框架比较/">
                PHP框架比较
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2014-10-20
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/web开发/">web开发</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/10/21/PHP框架比较/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/10/21/PHP框架比较/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="CodeIgniter">CodeIgniter</h2><p>Codeigniter 相当轻量级，下载下来就能用， CI 的最大特点就是可扩展性很强 你可以通过不修改源码的方式 优雅的扩展几乎所有的东西。</p>
<h2 id="thinkphp">thinkphp</h2><p>官方文档比较全<br>国产的</p>
<h2 id="yii">yii</h2><p>英文好点的推荐yii</p>
<h2 id="Laravel">Laravel</h2><p>Laravel是PHP 5.3之后开发的新框架，充分使用了PHP 5.3之后的新特性，不像很多老牌框架有一大堆历史包袱。<br>Codeigniter 的文档相当丰富，Laravel 4 的资料不多。<br>Laravel 4 需要用 composer 下载安装各种第三方依赖库，在国内下载网速很慢。<br>Codeigniter 兼容 PHP 5.2，Laravel 4 要求 PHP 5.3.7 以上。</p>
<h2 id="总结">总结</h2><p>CI的设计比较老套，且还有历史包袱<br>Laravel因为是后来者，设计上更先进一些</p>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/PHP/"> #PHP </a>
          
            <a href="/tags/PHP框架/"> #PHP框架 </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2014/10/10/ASP.NET MVC 之Razor/">
                ASP.NET MVC 之Razor
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2014-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/NET/">.NET</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/10/10/ASP.NET MVC 之Razor/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/10/10/ASP.NET MVC 之Razor/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="什么是razor？">什么是razor？</h2><p>Razor类似于JSP是一种服务端标记语言，运行的时候被程序动态转化为Html，用户只能看到相应的html文件。</p>
<h2 id="简单的语法">简单的语法</h2><p>简单直接的理念，@后直接写代码：</p>
<ul>
<li>代码 ：@{此处为Razor代码}</li>
<li>在html中使用@变量名，来引用asp.net对象</li>
<li>Razor通过从尖括号会看来确定变量，但有时会出现二义性，就需要用括号解决@(rootNamespace).Models</li>
<li>@@转义一个@字符</li>
</ul>
<p>使用 var 关键词或类型对变量进行声明，不过 ASP.NET 通常能够自动确定数据的类型。</p>
<h2 id="razor组织页面的结构">razor组织页面的结构</h2><ol>
<li>View下的_ViewStart.cshtml优先于任何代码的运行</li>
<li>通过这个页面指定页面布局@{layout=……..}</li>
<li>在渲染页面的时候对layout属性重写，从而选择一个新的布局</li>
</ol>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/ASP-MVC/"> #ASP MVC </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2014/10/10/ASP.NET MVC之ViewBag/">
                ASP.NET MVC之ViewBag
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2014-10-09
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/NET/">.NET</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/10/10/ASP.NET MVC之ViewBag/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/10/10/ASP.NET MVC之ViewBag/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="解释">解释</h2><p>ViewBag是一个动态对象，可以将属性添加到 ViewBag对象。<br>ViewBag是一个动态对象，这意味着可以随便提取这个属性 。<br>ViewBag是一个动态对象，提供方便的后期绑定方式将信息传递给视图。</p>
<h2 id="什么时候使用">什么时候使用</h2><p>ASP.NET MVC 还提供将强类型数据或对象传递到视图模板的能力。便于检查类型错误。<br>使用方法：</p>
<ul>
<li>简单独立的数据使用ViewBag</li>
<li>向前端传递一个大的对象，使用试图模板，便于检查错误<h2 id="ViewBag_VS_ViewData_VS_TempData">ViewBag VS ViewData VS TempData</h2></li>
<li>viewbag是动态的viewdata,是一种更受欢迎的语法</li>
<li>ViewBag其实本质就是ViewData,只是多了层Dynamic控制。使用何种方式完全取决于个人的爱好。</li>
<li>ViewBag和ViewData仅针对当前Action中有效，生命周期和View相同。</li>
<li>TempData 只是一个容器（类似于ViewBag），区别在于，重定向后（下一个页面）仍然可用</li>
</ul>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/ASP-MVC/"> #ASP MVC </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2014/10/10/ASP.NET MVC之URL映射/">
                ASP.NET MVC之URL映射
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2014-10-09
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/NET/">.NET</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/10/10/ASP.NET MVC之URL映射/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/10/10/ASP.NET MVC之URL映射/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="通常">通常</h2><p>web 服务器通常会将进入的 URL 请求直接映射到服务器上的磁盘文件。例如：某个 URL 请求（比如 “<a href="http://www.w3school.com.cn/index.asp&quot;）将映射到服务器根目录上的文件" target="_blank" rel="external">http://www.w3school.com.cn/index.asp&quot;）将映射到服务器根目录上的文件</a> “index.asp”。</p>
<h2 id="MVC的URL映射">MVC的URL映射</h2><p>MVC 框架的映射方式有所不同。MVC 将 URL 映射到方法。这些方法在类中被称为“控制器”。控制器负责处理进入的请求、处理输入、保存数据、并把响应发送回客户端。</p>
<p>ASP.NET MVC 所使用的默认 URL的路径映射为方法的调用：/[Controller]/[ActionName]/[Parameters]</p>
<h2 id="例子">例子</h2><p>传参数  <code>/HelloWorld/Welcome?name=Scott&amp;numtimes=4</code></p>
<p>```<br>public string Welcome(string name, int numTimes = 1) {<br>     return HttpUtility.HtmlEncode(“Hello “ + name + “, NumTimes is: “ + numTimes);}</p>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/ASP-MVC/"> #ASP MVC </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2014/03/27/从Lambda表达式到Linq查询/">
                从Lambda表达式到Linq查询
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2014-03-27
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/NET/">.NET</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/03/27/从Lambda表达式到Linq查询/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/03/27/从Lambda表达式到Linq查询/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Lambda表达式">Lambda表达式</h2><p>lamda表达式是一种匿名函数（没有函数名），使用方式</p>
<blockquote>
<p>输入参数=&gt;表达式或语句块</p>
</blockquote>
<p>仅当 lambda 只有一个输入参数时，括号才是可选的；否则括号是必需的。例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(x, y) =&#62; x == y</span><br></pre></td></tr></table></figure>
<p>显示指定类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(int x, string s) =&#62; s.Length &#62; x</span><br></pre></td></tr></table></figure>
<p>异步lamda：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">button1.Click += async (sender, e) =&#62;&#10;&#123;&#10;    textBox1.Text += &#34;\r\nControl returned to Click event handler.\r\n&#34;;&#10;&#125;;</span><br></pre></td></tr></table></figure>
<p>Lamda中的<strong>类型推理</strong>：<br>通过推断来确定lamda表达式的输入参数的类型和返回值<br>Lambda 的一般规则如下：</p>
<ul>
<li>Lambda 包含的参数数量必须与委托类型包含的参数数量相同。</li>
<li>Lambda 中的每个输入参数必须都能够隐式转换为其对应的委托参数。</li>
<li>Lambda 的返回值（如果有）必须能够隐式转换为委托的返回类型。</li>
</ul>
<p>举例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">customers.Where(c =&#62; c.City == &#34;London&#34;);</span><br></pre></td></tr></table></figure>
<p>通过c.City == “London”来推断出最终c的类型。</p>
<h2 id="Linq">Linq</h2><p>Linq是<strong>使用C#语法进行的强类型查询语言</strong>，目的是提供统一对称的方式，在广义的数据上得到数据和操作数据.</p>
<p>好处：可以进行多种数据形式的查询，如SQL，XML<br>Linq应用场景：</p>
<ul>
<li>Linq to object 针对数组和集合</li>
<li>Linq to XML 操纵查询XML文档</li>
<li>Linq to DataSet 针对ADO.Net的DataSet对象</li>
<li>Linq to Entities：针对ADO.Net Entity Framework API使用LINQ查询</li>
</ul>
<p>举例：Linq to object</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"> string[] strs = &#123; &#34;Morrroewed&#34;, &#34;djfuajre 2&#34; , &#34;dfa ad f 3&#34;, &#34;ad adf 4&#34; &#125;;&#10;IEnumerable&#60;string &#62; subset = from str in strs&#10;    where str.Contains(&#34; &#34; )&#10;    orderby str&#10;    select str;&#10;    foreach (string s in subset)&#10;        Console.WriteLine(&#34;item:&#123;0&#125;&#34; , s);</span><br></pre></td></tr></table></figure>
<p>结果集由实现了IEnumberable<t>的对象表示，在这个例子中T为string<br>实际上查询的函数都是由IEnumberable<t>中的函数（被子类重载后）来帮助我们实现的</t></t></p>
<p>简便方法：<strong>使用隐式类型</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var subset = from str in strs</span><br></pre></td></tr></table></figure>
<p>Linq的操作只有在迭代查询结果的时候才执行，这种功能叫做<strong>延迟执行</strong><br>Linq中关键词的作用：</p>
<ul>
<li>from in指定查询数据容器,</li>
<li>where 查询条件</li>
<li>select 从容其中选择一个序列</li>
<li>join、on、equals、into基于指定键进行关联操作</li>
<li>order by、ascending、descending 排序</li>
<li>group by 对数据分组</li>
</ul>
<p>转换结果集：</p>
<ul>
<li>Reverse&lt;&gt;()</li>
<li>RoArray&lt;&gt;()</li>
<li>ToList&lt;&gt;()</li>
</ul>
<p>from item in container,select item<br>item是从container中查找的元素，可以起任意的名字，select是最终选择的内容</p>
<h2 id="使用Enumerable类型和Lamda表达式建立查询">使用Enumerable类型和Lamda表达式建立查询</h2><h3 id="原理">原理</h3><p>Linq to object中的一些功能可以使用Enumerable对象（可以理解为数据容器）的扩展方法来访问。<br>如调用Enumerable.Where()方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public static IEnumerable&#60;Tsource&#62; Where &#60;Tsource&#62;(this IEnumerable&#60;Tsource&#62; source,System.Func&#60;Tsource,int,bool&#62; predicate)</span><br></pre></td></tr></table></figure>
<p>其中Func&lt;&gt;是一个<strong>泛型委托</strong>，接受一定的参数，通过把写好的<strong>匿名函数</strong>（Lamda表达式）作为参数传入，就可以执行查询逻辑了</p>
<h3 id="目的">目的</h3><p>使得查询语句写法更加简便</p>
<h3 id="举例">举例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var subset = strs.Where(str =&#62; str.Contains( &#34; &#34;));</span><br></pre></td></tr></table></figure>
<p>str相当于from str in strs<br> str.Contains( “ “))相当于执行where的条件判断</p>
<h3 id="更复杂的版本">更复杂的版本</h3><p>var subset = strs.Where(str =&gt; str.Contains( “ “)).OrderBy(str=&gt;str).Select(str=&gt;str);</p>
<h3 id="后记">后记</h3><p>这种方法不过是LINQ查询语句的简记版本而已</p>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/C/"> #C# </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2014/03/25/如何阅读一篇论文/">
                如何阅读一篇论文
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2014-03-25
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/杂七杂八/">杂七杂八</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/03/25/如何阅读一篇论文/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/03/25/如何阅读一篇论文/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="前言">前言</h2><p>翻译自ACM Fellow，加拿大滑铁卢大学计算机系教授Srinivasan Keshav的一个简单的三步论文阅读法：</p>
<blockquote>
<p>How to Read a Paper<br>August 2, 2013<br>S. Keshav<br>David R. Cheriton School of Computer Science, University of Waterloo<br>Waterloo, ON, Canada<br>keshav@uwaterloo.ca</p>
</blockquote>
<p>原文地址:<a href="http://www-users.cselabs.umn.edu/classes/Spring-2014/csci8211/Papers/Misc%20How%20to%20Read%20a%20Paper.pdf" target="_blank" rel="external">How to read a paper</a></p>
<h2 id="第一遍">第一遍</h2><h3 id="目的">目的</h3><p>第一遍目的是快速浏览对文章有个整体印象，这样你可以决定是不是进行更深次的阅读。</p>
<h3 id="时间">时间</h3><p><strong>5-10min</strong></p>
<h3 id="步骤">步骤</h3><ol>
<li><p>认真阅读：<strong>题目、摘要、简介</strong>(introduction)</p>
</li>
<li><p>读章节和子章节的<strong>标题</strong>，忽略其他部分</p>
</li>
<li><p>浏览<strong>数学</strong>内容，来确定基本的理论基础</p>
</li>
<li><p>阅读<strong>结论</strong></p>
</li>
<li><p>浏览<strong>引用</strong>，剔除那些已经阅读过的</p>
</li>
</ol>
<h3 id="完成后">完成后</h3><p>可以回答下面5个问题：</p>
<ol>
<li><p><strong>类别</strong>(category):文章的类型是什么？实验测量的论文？已经存在的系统分析？一个设计原型的介绍？</p>
</li>
<li><p><strong>内容</strong>(context):这篇论文是和什么相关的？使用什么理论基础来分析这个问题？</p>
</li>
<li><p><strong>正确性</strong>(correctness):假设是合理的吗</p>
</li>
<li><p><strong>贡献</strong>(contribution):</p>
</li>
<li><p><strong>清晰度</strong>(clarity):文章写得好不好</p>
</li>
</ol>
<h3 id="总结">总结</h3><p>使用这个信息，你就可以决定是否深入阅读(打印出来)。也许你对这篇文章不感兴趣，也许因为你对这个领域了解的还不够多以至于你不能看懂这篇论文，也许作者的假设不合理。<strong>第一遍足够来判定，那些看起来和你研究领域相关的论文，究竟是不是属于你的研究领域。</strong></p>
<p>同样，当你写论文的时候，大部分的审稿人和读者只像这样读一遍你的论文。认真选择章节名称，写出简洁全面的摘要。如果审稿人一遍不能明白论文的主旨(gist)，论文就很可能被拒了。如果读者一遍不能看到论文的亮点(highlight)，很可能读者就不会读这篇论文了。</p>
<h2 id="第二遍">第二遍</h2><h3 id="目的-1">目的</h3><p>第二遍要更认真的读，但是忽略如证明的细节。这样便于<strong>草记下关键点</strong>，或者在论文边上写下评论。Dominik Grusemann说，“记下你不懂的内容，或者想问作者的问题”。如果你作为一个论文的审稿人，当你写review的时候这些内容会帮助你，作为委员会议上review的备份。</p>
<h3 id="时间-1">时间</h3><p>时间：有经验的论文阅读者需要花费一个小时左右。</p>
<h3 id="步骤-1">步骤</h3><ol>
<li><p>仔细看<strong>图</strong>，和<strong>图表</strong>，和其它论文中的插画。对于图要特别进行关注。坐标轴是否正确标注？结果的柱形图是否错误？得到的结果是否在统计学上是正确的？这样常见的错误可以区分仓促的假的工作和真的好的工作。</p>
</li>
<li><p>记得<strong>标注</strong>相关的但是没阅读的的<strong>引用</strong>，作为扩展阅读。</p>
</li>
</ol>
<h3 id="总结-1">总结</h3><p>这遍之后需要能够抓住论文的内容。你需要<strong>能够使用论文中的依据，概括论文的主要观点，介绍给读者</strong>。如果你对一个论文感兴趣，但是这个论文不是你研究的特殊领域，达到这个级别的细节比较合适。</p>
<p>有时，即使你读了两遍，你仍然看不懂这个文章。这也许是因为这个课题对你来说比较新，有很多不懂的术语和缩写，或者作者使用了你不懂的结论或者实验技术。也许是论文写得不好，使用了很多未证明的断言和引用。你可以选择(a)把论文放一边，也许在你的领域你不用完全理解他。(b)在读了论文的背景材料之后，再把论文拿回来读(c)继续坚持读第三遍。</p>
<h2 id="第三遍">第三遍</h2><h3 id="目的-2">目的</h3><p>为了完全理解这个论文，特别是如果你是评审的话，需要进行第三遍阅读。</p>
<h3 id="步骤-2">步骤</h3><p>第三边阅读的关键点是<strong>几乎重新实现</strong>这个论文：使用作者使用的假设，重新进行工作。通过比较重新实现和原来的论文，你可以很容易地鉴别，论文的创新点，甚至论文隐藏的失败和假设。</p>
<p>这遍需要对细节强烈的关注。你应该鉴别并且挑战每一句话中的假设。此外，你应该<strong>自己提出一个特定的观点与原来论文中的观点进行比较</strong>。这个比较会使得你对于论文证明和论文结果有深刻的洞见。读这遍的过程中，你还可以<strong>草草写下自己将来工作的观点</strong>。</p>
<h3 id="时间-2">时间</h3><p>这遍对于初学者来说会花费很长时间，对于有经验的研究者也需要<strong>一个或者两个小时以上</strong>。这遍的最后，你应该能够通过记忆重建论文全部的架构，并且能够甄别论文的优势和弱点。你也要能够指出论文中隐含的假设，缺少的相关的引用，和实验和分析技术中潜在的问题。</p>
<h2 id="如何做一个领域的调研">如何做一个领域的调研</h2><p>论文阅读的技巧可以用来实践，进行一个文献调研。</p>
<p>这要求你阅读很多论文，也许是一个不熟悉的领域。应该阅读哪些论文来完成调研？论文三遍阅读法隆重登场。</p>
<ol>
<li><p>首先使用一个文献搜索网站如谷歌学术搜索，使用适当的关键词进行搜索，去查找三到五篇这个领域内引用数很高的文章。每篇文章读一遍，对文章有个初步的认识，然后阅读这些文章相关的工作内容(引用)。你会发现一个很小的最近工作(recent work)的概括，并且如果你足够幸运你会发现本文指向了一个最近的survey(概述，调研)。如果你能找到这种survey，工作就结束了，可以开始阅读这个survey了。</p>
</li>
<li><p>如果没有找到survey需要进行下一步，找到这些文章共同引用的文章，或者作者的名字。这些就是这个领域的关键论文和研究者。下载这些关键的论文收好。然后去网站搜索这些研究者最近发表的论文。这能够帮助你找到这个领域内的顶级会议，因为最好的研究者通常在顶级会议发表文章。</p>
</li>
<li><p>第三步就是去这些顶级会议的相关网站来查找他们最近的进展。快速浏览，找到最近相关的高质量的工作。这些论文和哪些你收好的论文，就形成了你对于这个领域最初的survey。这些论文读两遍，如果都引用了之前你没找到的关键论文，寻找这个论文阅读，然后不断迭代。</p>
</li>
</ol>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
  </div>

  
  <div class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/">&laquo;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/">&raquo;</a>
  </div>


        </div>

        
      </div>


      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="https://avatars0.githubusercontent.com/u/9674774" alt="Rudy Zhang" />
          <p class="site-author-name">Rudy Zhang</p>
        </div>
        <p class="site-description motion-element"></p>
        <div class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">44</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">8</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">23</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </div>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
              <a href="https://github.com/Rudy-Zhang" target="_blank">github</a>
            </span>
            
              <span class="links-of-author-item">
              <a href="http://www.zhihu.com/people/rudy-zhang-93" target="_blank">zhihu</a>
            </span>
            
          
        </div>

        
        

      </div>

      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp; 
  2015
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">Rudy Zhang</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $('.content img').each(function () {
        var $image = $(this);
        var $imageWrapLink = $image.parent('a');

        if ($imageWrapLink.size() < 1) {
          $imageWrapLink = $image.wrap('<a href="' + this.getAttribute('src') + '"></a>').parent('a');
        }
        $imageWrapLink.addClass('fancybox');
      });
    });
    $('.fancybox').fancybox({
      helpers: {
        overlay: {
          locked: false
        }
      }
    });
  </script>


  <script type="text/javascript">
  function hasMobileUA () {
    var nav = window.navigator;
    var ua = nav.userAgent;
    var pa = /iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g;

    return pa.test(ua);
  }

  function isDesktop () {
    return screen.width > 991 && !hasMobileUA();
  }

  function isTablet () {
    return screen.width < 992 && screen.width > 767 && hasMobileUA();
  }

  function isMobile () {
    return screen.width < 767 && hasMobileUA();
  }

  function escapeSelector (selector) {
    return selector.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g, "\\$&")
  }

  function displaySidebar () {
    setTimeout(function () {
      $('.sidebar-toggle').trigger('click');
    }, 800);
  }
</script>

  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" id="motion.global">
  $(document).ready(function () {
    var body = $('body');
    var isSidebarVisible = false;
    var sidebarToggle = $('.sidebar-toggle');
    var sidebarToggleLine1st = $('.sidebar-toggle-line-first')
    var sidebarToggleLine2nd = $('.sidebar-toggle-line-middle');
    var sidebarToggleLine3rd = $('.sidebar-toggle-line-last');
    var sidebar = $('.sidebar');

    var SIDEBAR_WIDTH = '320px';
    var SIDEBAR_DISPLAY_DURATION = 300;

    var sidebarToogleLineStatusInit = {width: '100%', opacity: 1, left: 0, rotateZ: 0, top: 0};

    var sidebarToggleLine1stStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine1stStatusArrow = {width: '50%', rotateZ: '-45deg', top: '2px'};
    var sidebarToogleLine1stStatusClose = {width: '100%', rotateZ: '-45deg', top: '5px'};

    var sidebarToggleLine2ndStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine2ndStatusArrow = {width: '90%'};
    var sidebarToogleLine2ndStatusClose = {opacity: 0};

    var sidebarToggleLine3rdStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine3rdStatusArrow = {width: '50%', rotateZ: '45deg', top: '-2px'};
    var sidebarToogleLine3rdStatusClose = {width: '100%', rotateZ: '45deg', top: '-5px'};

    LogoAndMenuMotion();
    sidebarToggleMotion();
    postsListMotion();
    backToTopMotion();


    $(document)
      .on('sidebar.isShowing', function () {
        isDesktop() && body.velocity(
          {paddingRight: SIDEBAR_WIDTH},
          SIDEBAR_DISPLAY_DURATION
        );
        sidebarContentMotion();
      })
      .on('sidebar.isHiding', function () {});

    function LogoAndMenuMotion() {
      $.Velocity.RunSequence([
        { e: $('.brand'), p: { opacity: 1 }, o: { duration: 100 } },
        { e: $('.logo'), p: { opacity: 1, top: 0 }, o: { duration: 50} },
        
        { e: $('.logo-line-before i'), p: { translateX: "100%" }, o: { duration: 500, sequenceQueue: false } },
        { e: $('.logo-line-after i'), p: { translateX: "-100%" }, o: { duration: 500, sequenceQueue: false } },
        
        { e: $('.site-title'), p: { opacity: 1, top: 0 }, o: { duration: 200 } }
      ]);
      $('.menu-item').velocity('transition.slideDownIn', {display: null});
    }


    function backToTopMotion () {
      var b2top = $('.back-to-top');
      b2top.on('click', function () {
        body.velocity('scroll');
      });
    }

    function sidebarShowMotion () {

      sidebarToggleLine1st.velocity(sidebarToogleLine1stStatusClose);
      sidebarToggleLine2nd.velocity(sidebarToogleLine2ndStatusClose);
      sidebarToggleLine3rd.velocity(sidebarToogleLine3rdStatusClose);

      sidebar.velocity({width: SIDEBAR_WIDTH}, {
        display: 'block',
        duration: SIDEBAR_DISPLAY_DURATION,
        complete: function () {
          sidebar.addClass('sidebar-active');
          sidebar.trigger('sidebar.didShow');
        }
      });
      sidebar.trigger('sidebar.isShowing');
    }

    function sidebarHideMotion () {
      isDesktop() && body.velocity({paddingRight: 0});
      sidebar.velocity('reverse');

      sidebarToggleLine1st.velocity(sidebarToggleLine1stStatusInit);
      sidebarToggleLine2nd.velocity(sidebarToggleLine2ndStatusInit);
      sidebarToggleLine3rd.velocity(sidebarToggleLine3rdStatusInit);

      sidebar.removeClass('sidebar-active');
      sidebar.trigger('sidebar.isHiding');
    };

    function sidebarContentMotion () {
      $('.sidebar .motion-element').velocity(
        'transition.slideRightIn',
        {stagger: 50, drag: true}
      );
    }

    function postsListMotion () {
      var postMotionOptions = window.postMotionOptions || {stagger: 300, drag: true};
      $('.post').velocity('transition.slideDownIn', postMotionOptions);
    }

    function sidebarToggleMotion () {
      sidebarToggle.on('click', function () {
        isSidebarVisible ? sidebarHideMotion() : sidebarShowMotion();
        isSidebarVisible = !isSidebarVisible;
      });

      sidebarToggle.hover(function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusArrow);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusArrow);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusArrow);
      }, function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusInit);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusInit);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusInit);
      });
    }
  });

</script>





  

  <script type="text/javascript">
    var HEXO_SIDEBAR_CONFIGURATION = 'always';
    $(document).ready(function () {
      if (HEXO_SIDEBAR_CONFIGURATION === 'always') {
        displaySidebar();
      }
    });
  </script>

  

  
  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"rudy-zhang"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  


  
  
</body>
</html>
